# LinkService — gRPC-сервис сокращения ссылок, разработанный на языке Go

## Описание

LinkService — сервис, предоставляющий API для сокращения и восстановления ссылок URL. Разработан с помощью технологий Go, PostgreSQL, gRPC, Docker, Docker Compose.

LinkService предоставляет следующие gRPC-методы:
* `Create` — в качестве аргумента принимает строку с URL, который необходимо сократить, и возвращает сокращенную ссылку. Если URL некорректен, то возвращается ошибка.
* `Get` — в качестве аргумента принимает строку с сокращенной ссылкой и возвращает оригинальный URL, если такой когда-либо был задан методом `Create`. Если для указанной короткой ссылки не существует оригинального URL или короткая ссылка некорректна, то возвращается соответствующая ошибка.

Сокращенная ссылка представляет собой последовательность из 10 случайных символов. В последовательности используются символы латинского алфавита в нижнем и верхнем регистре, цифры (0-9) и символ подчеркивания (_). Пример: `rTfs62_gRq`

Каждому оригинальному URL соответствует лишь одна сокращенная ссылка. То есть вызовы метода `Create` с одним и тем же URL будут возвращать одинаковую сокращенную ссылку.

API сервиса описывается в .proto-файле `api/service.proto`. Используйте его для разработки клиентов данного сервиса.

## Установка и запуск

Чтобы испытать сервис LinkService в действии, необходимо выполнить следующие команды:
```
git clone https://github.com/pavelzagorodnyuk/linkservice
cd linkservice
docker-compose up
```
Для остановки запущенных контейнеров используйте сочетание Ctrl+C или выполните:
```
docker stop linkservice postgres
```
Естественно, для запуска сервиса должны быть установлены Docker и Docker Compose.

## Подключение к сервису
Для подключения к LinkService, в качестве клиента можно использовать утилиту [evans](https://github.com/ktr0731/evans "GitHub Evans").
```
evans linkservice/api/service.proto -p 50051
```

## Параметры подключения к базе данных сервиса
Конфигурация соединения между веб-приложением и базой данных PostgreSQL представлена в файле `configs/database_connection.env`. Используйте его, если хотите изменить параметры подключения к базе данных или если хотите подключиться к ней со стороннего приложения. Благодаря Docker Compose соединение между приложением сервиса и СУБД всегда происходит на основе настроек, что указаны в этом файле.